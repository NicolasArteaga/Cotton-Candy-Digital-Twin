\chapter{Implementation}
\label{sec:implementation}

\section{Product Quality Measurement}
% Stichpunkte:
% - During each run, collect product-related measurements
% - Store data in structured dataset
% - Used to evaluate output quality
% - Includes input sugar, output weight, volume, etc.

During the data collection phase, a structured dataset was compiled by recording relevant product-related parameters during each cotton candy production run. These measurements include the input sugar weight, the final cotton candy weight, estimated volume based on geometry, and the derived Fluffiness Index. This enabled consistent tracking across experiments and formed the basis for downstream quality evaluation and performance comparisons for the Model.

\subsection{Weight Measurement}

% Stichpunkte:
% - Manually weigh sugar before each run (input)
% - Weigh finished cotton candy on stick
% - Subtract known stick weight to get net cotton candy weight
% - Use same digital scale throughout
% - Needed for yield and fluffiness index

The input mass of sugar for each production run was manually measured using a precision scale with a readability of 0.01 grams. To determine the output mass of the produced cotton candy, the final product (including the stick) was weighed immediately after production using the same scale. The net weight of the cotton candy was then computed by subtracting the known weight of the stick, which was measured prior to the experiment and kept constant across all runs.

Accurate weight measurement was essential for evaluating the amount of produced cotton candy and for computing derived metrics such as the quality and Fluffiness Index. All weights were recorded in grams with a precision of two decimal places.



% TODO: Change Image to a better and smaller one, this is just a placeholder
% \begin{figure}[H]
%         \caption{Comparison between geometric approximation and real cotton candy morphology}
%     \label{fig:volume-comparison}
%     \centering
%         \includegraphics[width=\textwidth]{figures/Schematic-diagram-of-the-oblate-spheroid-and-its-volume-equivalent-sphere.jpg}
%         % \caption{Idealized oblate spheroid}
%         \label{fig:oblate-spheroid}
% \end{figure}
% \begin{figure}[H]
%         \centering
%         \includegraphics[width=\textwidth]{figures/firstCC.jpeg}
%         \caption{Actual cotton candy output}
%         \label{fig:cotton-candy}
% \end{figure}

\subsection{Volume Estimation}
% Stichpunkte:
% - You describe in detail how you estimate volume.
% - You assume the shape is an oblate spheroid (like a UFO).
% - You measure height and width with a ruler.
% - You apply the formula V = 4/3 * pi * a^2 * c
% - You derive a Fluffiness Index = Volume / Weight.

To approximate the spatial characteristics of the cotton candy output, the product was modeled as an oblate spheroid â€” a flattened ellipsoid shape that approximates the typical morphology observed during production.

\begin{figure}[H]
    \centering
    \begin{subfigure}[b]{0.45\textwidth}
        \centering
        \includegraphics[width=\textwidth]{figures/Schematic-diagram-of-the-oblate-spheroid-and-its-volume-equivalent-sphere.jpg}
        \caption{Idealized oblate spheroid}
        \label{fig:oblate-spheroid}
    \end{subfigure}
    \hfill
    \begin{subfigure}[b]{0.45\textwidth}
        \centering
        \includegraphics[width=\textwidth]{figures/firstCC.jpeg}
        \caption{Actual cotton candy output}
        \label{fig:cotton-candy}
    \end{subfigure}
    \caption{Comparison between geometric approximation and real cotton candy morphology}
    \label{fig:volume-comparison}
\end{figure}

Measurements of the maximum width and height were taken manually using a standard ruler immediately after each production run. Based on these dimensions, the volume \( V \) was estimated using the standard formula for an oblate spheroid:

\[
V = \frac{4}{3} \pi a^2 c
\]

where \( a \) is the equatorial radius (half of the width) and \( c \) is the polar radius (half of the height). Although this approach does not capture fine-grained structural variations, it offers a practical and repeatable method to compare volumetric differences across runs.

To further assess structural quality, a Fluffiness Index was derived as:

\[
\text{Fluffiness Index} = \frac{V}{\text{Weight}}
\]

This index serves as a proxy for the density of the cotton candy, with higher values indicating a lighter, airier structure. The same procedure and tools were applied consistently across all production runs to ensure internal comparability.

\subsection{Limitations in Volume Measurement}

The estimation of cotton candy volume relied on manual measurements of width and height, followed by geometric approximation. While this method provides a reasonable basis for comparative analysis, it is subject to several limitations: (a) the inherently irregular and fragile structure of cotton candy, (b) potential observer bias during manual measurement, and (c) the assumption of a regular geometric shape. As such, the absolute values of estimated volume should be interpreted with caution. However, because the same procedure was applied uniformly across all experimental runs, the relative differences and trends derived from this method remain valid for assessing the effects of the digital twin optimization.